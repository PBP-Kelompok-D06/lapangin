{% extends "base.html" %}
{% load static %}


{% block title %}All Reviews{% endblock title %}

{% block content %}
<h1 id="ulasan" style="margin-top: 20px; display: flex;width: 1000px;height: 38px;flex-direction: column;justify-content: center;flex-shrink: 0; color: var(--Foundation-Primary-primary-900, #4D5833);font-family: Montserrat;font-size: 25px;font-style: normal;font-weight: 600;line-height: 120%;">Ulasan untuk {{ field.nama_lapangan }}</h1>

<button id="btn-tambah-ulasan" style="margin-top: 8px;display: flex;height: 52px;padding: 12px 28px;align-items: center;gap: 12px; border-radius: 4px; background: var(--Foundation-Primary-primary-500, #B8D279);">
    Tambah Ulasan
</button>

<div class="all-reviews" style="display: flex; flex-direction: column; align-items: flex-start; gap: 40px; align-self: stretch; width: 100%;">
  {% for review in reviews |slice:":5"%}
  <div class="container" style="display: flex; flex-direction: column; align-items: flex-end; gap: 16px; align-self: stretch; width: 100%; padding-bottom: 24px; border-bottom: 1px solid #ddd;">
    <div class="profile" style="display: flex; align-items: center; gap: 24px; align-self: stretch;">
      <img src="{% static 'images/default_profile.svg' %}" alt="Profile Picture" class="profile-picture">
      <div class="profile-name">
        <h1 style="font-family: Montserrat; font-size: 20px; font-weight: 600; color: #212121; line-height: 120%;">
          {{ review.user.user.username }}
        </h1>
        <p style="font-family: Montserrat; font-size: 13px; font-weight: 400; line-height: 120%; letter-spacing: 0.26px;">
          {{ review.created_at|date:"d M Y H:i" }}
        </p>
      </div>
    </div>
    <div class="review-content" style="display: flex; width: 100%; flex-direction: column; align-items: flex-start; gap: 32px;">
      <p style="text-align: justify; font-family: Montserrat; font-size: 20px; color: #212121; font-weight: 500; line-height: 120%; letter-spacing: 0.4px;">
        {{ review.content }}
      </p>
      <div class="rating" style="color: #FFD700; font-size: 18px;">
        {% for i in "12345" %}
          {% if forloop.counter <= review.rating %}
            ★
          {% else %}
            ☆
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
  {% endfor %}
　<button id="btn-lihat-ulasan" style="margin-top: 8px;display: flex;height: 52px;padding: 12px 28px;align-items: center;gap: 12px; border-radius: 4px; background: var(--Foundation-Primary-primary-500, #B8D279);">
    Lihat Semua Ulasan
　</button>
</div>

{% include "modal_input.html" %}

<script>
  function openModal() {
    document.getElementById('review-modal').style.display = 'flex';
  }

  function closeModal() {
    document.getElementById('review-modal').style.display = 'none';
  }

  // Jalankan setelah halaman siap
  document.addEventListener('DOMContentLoaded', function() {
    const btn = document.getElementById('btn-tambah-ulasan');
    if (btn) {
      btn.addEventListener('click', openModal);
    }
  });
</script>


{% endblock %}